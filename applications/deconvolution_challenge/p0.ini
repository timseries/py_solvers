[Application1]
Name=deconvolutionChallenge

[Input1]
Name=Input
FileDir=~/GoogleDrive/timothy.daniel.roberts@gmail.com/PhD/Projects/DeconvolutionChallenge/Data/P0/
FileMember=
FileName=phantom_padded.tif

[Input2]
Name=Input
FileDir=~/GoogleDrive/timothy.daniel.roberts@gmail.com/PhD/Projects/DeconvolutionChallenge/Data/P0/
FileMember=
FileName=psf.tif

[Preprocess1]
Name=Preprocess

[Observe1]
Name=Observe
ObservationType=convolution_poisson
Domain=fourier
Evenfft=1
Modalities=ModalityArray1
Transforms=TransformArray1
NoiseDistribution=gaussian
NoiseDistribution2=poisson
NoiseMean=0
MaximumPhotonsPerVoxel=239.6
Background=15.8
NoiseVariance=94.089
NoiseInterval=0 1
WienerFactor=0.001
Seed=1

[Transform1]
Name=DTCWT
nlevels=3
IncludeScale=1
biort=near_sym_b
qshift=qshift_b
opencl=0

[Modality1_1]
Name=Blur
Type=file
FileSection=Input2
EvenFFT=1
OutputFourier=0
CSource=0

[Modality1_2]
Name=Downsample
SamplingDimension=1 2
Size=256 256
CSource=0

[Modality1_3]
Name=GroupStructure
groupTypes=PARENTCHILDREN

[ModalityArray1]
Name=OperatorComp
Operators=Modality1_1

[TransformArray1]
Name=OperatorComp
Operators=Transform1

[Solver1]
Name=MSIST
SparsePenalty=poisson_deblur
SpatialThreshold=1
nuEpsilonMethod=geometric
epsilonStart=1000
epsilonStop=10
nuStart=12
nuStop=9.0
decay=.8
tau=.07
#alpha=1.00000000e+00 1.77951737e-04 1.78463725e-04 1.78170184e-04 1.77992952e-04 1.77951737e-04 1.78170184e-04 1.78463725e-04 1.77992952e-04 7.39144709e-06 7.46591022e-06 7.46591022e-06 7.38915608e-06 1.55112400e-04 1.55137437e-04 1.55137437e-04 1.55437149e-04 4.74218304e-06 4.74094767e-06 4.74099074e-06 4.73823748e-06 4.74218304e-06 4.74099074e-06 4.74094767e-06 4.73823748e-06 1.53727016e-08 1.27740524e-08 1.27740524e-08 1.35201356e-08 2.43219019e-03 2.43069896e-03 2.42992983e-03 2.43290741e-03 2.43219019e-03 2.42992983e-03 2.43069896e-03 2.43290741e-03 3.67523764e-04 3.71835870e-04 3.71835870e-04 3.67553272e-04 4.91105487e-04 4.90144406e-04 4.90144406e-04 4.87621718e-04 4.41001145e-05 4.68192100e-05 4.41098587e-05 4.68196808e-05 4.41001145e-05 4.41098587e-05 4.68192100e-05 4.68196808e-05 7.66049017e-06 7.66919429e-06 7.66919429e-06 7.67902709e-06 1.03916435e-02 1.03917500e-02 1.03917845e-02 1.03915212e-02 1.03916435e-02 1.03917845e-02 1.03917500e-02 1.03915212e-02 6.05904390e-03 6.05880565e-03 6.05880565e-03 6.05877209e-03 2.05212546e-03 2.05145159e-03 2.05145159e-03 2.05076732e-03 2.37953180e-03 2.37952109e-03 2.37952054e-03 2.37953524e-03 2.37953180e-03 2.37952054e-03 2.37952109e-03 2.37953524e-03 1.98398544e-03 1.98394531e-03 1.98394531e-03 1.98385313e-03
alpha=1.0 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25 .25
# alpha= 1.00000000e+00 1.62494960e-04 1.62541276e-04 1.63015179e-04 1.62746164e-04 1.62494960e-04 1.62541276e-04 1.62746164e-04 1.63015179e-04 5.72854118e-06 5.72598098e-06 5.73484684e-06 5.73484684e-06 1.01970012e-04 1.02236787e-04 1.01989800e-04 1.01989800e-04 3.76409772e-06 3.76269169e-06 3.76269464e-06 3.76122945e-06 3.76409772e-06 3.76269169e-06 3.76122945e-06 3.76269464e-06 6.77829083e-09 5.08745489e-09 4.90197499e-09 4.90197499e-09 2.12191131e-03 2.12244552e-03 2.12075852e-03 2.12007689e-03 2.12191131e-03 2.12244552e-03 2.12007689e-03 2.12075852e-03 2.21469736e-04 2.21490513e-04 2.25665027e-04 2.25665027e-04 4.21885897e-04 4.22230103e-04 4.24277715e-04 4.24277715e-04 3.26292512e-05 3.55274132e-05 3.55236557e-05 3.26357915e-05 3.26292512e-05 3.55274132e-05 3.26357915e-05 3.55236557e-05 4.06487104e-06 4.07532056e-06 4.07123433e-06 4.07123433e-06 9.75907266e-03 9.75887287e-03 9.75912186e-03 9.75909463e-03 9.75907266e-03 9.75887287e-03 9.75909463e-03 9.75912186e-03 5.24947395e-03 5.24925323e-03 5.24931047e-03 5.24931047e-03 1.56645598e-03 1.56671682e-03 1.56643845e-03 1.56643845e-03 1.79960288e-03 1.79964832e-03 1.79963437e-03 1.79961434e-03 1.79960288e-03 1.79964832e-03 1.79961434e-03 1.79963437e-03 1.35175990e-03 1.35167614e-03 1.35174721e-03 1.35174721e-03
Modalities=ModalityArray1
Transforms=TransformArray1
Results=Results1
nItn=1

[Results1]
Name=Results
# Metrics=ISNR1,PSNR1,NMISE1,SSIM1,FourierCorrelation1,RER1,OutputImage1,OutputImage2,OutputImage3
Metrics=ISNR1,PSNR1,OutputImage1,OutputImage2,OutputImage3
Desktop=1
FigureGridWidth=3
FigureGridHeight=2
OutputDirectory=~/repos/scratch/deconv_challenge_output
OutputFilename=p0
OverwriteResults=0
RowOffset=0

[OutputImage1]
Name=OutputImage
OutputExtension=tif
Title=Normalized Ground Truth
Key=x
YLabel=Normalized Ground Truth
UpdateOnce=1
FigureLocation=3

[OutputImage2]
Name=OutputImage
OutputExtension=tif
Title=Initial Estimate
Key=x_0
YLabel=Initial Estimate
UpdateOnce=1
FigureLocation=3

[OutputImage3]
Name=OutputImage
OutputExtension=tif
Title=Initial Estimate
Key=x_n
YLabel=Initial Estimate
UpdateOnce=0
FigureLocation=3

[ISNR1]
Name=ISNR
Title=ISNR
Key=ISNR
YLabel=ISNR (dB)
Print=1
FigureLocation=0

[PSNR1]
Name=PSNR
Title=PSNR
Key=PSNR
YLabel=PSNR (dB)
Print=1
FigureLocation=1

[NMISE1]
Name=NMISE
Title=NMISE
Key=NMISE
YLabel=NMISE
Print=1
FigureLocation=2

[SSIM1]
Name=SSIM
Title=SSIM
Key=SSIM
YLabel=SSIM
Print=1
FigureLocation=3

[FMetrics1]
Name=FMetrics
Title=SSIM
Key=FMetrics
YLabel=SSIM
Print=0
FigureLocation=3

[FourierCorrelation1]
Name=FourierCorrelation
Title=FourierCorrelation
Key=FourierCorrelation
YLabel=FourierCorrelation
Print=1
FMetrics=FMetrics1
FigureLocation=4

[RER1]
Name=RER
Title=RER
Key=RER
YLabel=RER
Print=1
FMetrics=FMetrics1
FigureLocation=5
